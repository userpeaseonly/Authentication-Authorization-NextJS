{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///home/dragonfire/Desktop/NextJS/authproject/client/src/tanstack/api.tsx"],"sourcesContent":["import { UserCred } from \"@/types\";\nimport axios, { AxiosInstance } from \"axios\";\n\nconst BASE_URL = \"http://localhost:3001\";\n\nconst loginInstance = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport const verifyTokenInstance = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n\nexport const login = async (userCred: UserCred) => {\n  const res = await loginInstance.post(\"/login\", userCred, {\n    withCredentials: true,\n  });\n  return res;\n};\n\nexport const refreshTokenInstaance = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport const verifyToken = async (verTokenIns: AxiosInstance) => {\n  try {\n    const res = await verTokenIns.get(\"/verify\");\n    console.log(res);  \n    return res;\n  } catch (e) {\n    const err = e as {status: number};\n    const statusCode = err.status\n    return statusCode;\n  }\n};\n\n"],"names":[],"mappings":";;;;;;AACA;;AAEA,MAAM,WAAW;AAEjB,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACjC,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEO,MAAM,sBAAsB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9C,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,QAAQ,OAAO;IAC1B,MAAM,MAAM,MAAM,cAAc,IAAI,CAAC,UAAU,UAAU;QACvD,iBAAiB;IACnB;IACA,OAAO;AACT;AAEO,MAAM,wBAAwB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAChD,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,MAAM,MAAM,YAAY,GAAG,CAAC;QAClC,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT,EAAE,OAAO,GAAG;QACV,MAAM,MAAM;QACZ,MAAM,aAAa,IAAI,MAAM;QAC7B,OAAO;IACT;AACF"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///home/dragonfire/Desktop/NextJS/authproject/client/src/tanstack/mutations.tsx"],"sourcesContent":["import { useMutation } from \"@tanstack/react-query\";\nimport { login } from \"./api\";\nimport { useDispatch } from \"react-redux\";\nimport { saveToken } from \"@/toolkit/userSlice\";\nimport { useRouter } from \"next/navigation\";\n\nexport const useLogin = () => {\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const { mutate } = useMutation({\n    mutationFn: login,\n    onSuccess: (data) => {\n      const token = data.data.accessToken;\n      dispatch(saveToken(token));\n      router.push(\"/profile\");\n    },\n  });\n\n  return { mutate };\n};\n"],"names":[],"mappings":";;;AACA;AAEA;AACA;AAFA;AAFA;;;;;;AAMO,MAAM,WAAW;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8KAAA,CAAA,cAAW,AAAD,EAAE;QAC7B,YAAY,uHAAA,CAAA,QAAK;QACjB,WAAW,CAAC;YACV,MAAM,QAAQ,KAAK,IAAI,CAAC,WAAW;YACnC,SAAS,CAAA,GAAA,4HAAA,CAAA,YAAS,AAAD,EAAE;YACnB,OAAO,IAAI,CAAC;QACd;IACF;IAEA,OAAO;QAAE;IAAO;AAClB"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///home/dragonfire/Desktop/NextJS/authproject/client/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useLogin } from \"@/tanstack/mutations\";\nimport { RootState } from \"@/toolkit/store\";\nimport { ChangeEvent, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nexport default function Home() {\n  const accessToken = useSelector(\n    (state: RootState) => state.userSlice.accessToken\n  );\n  console.log(accessToken);\n\n  const { mutate } = useLogin();\n  const [cred, setCred] = useState({\n    userName: \"\",\n    password: \"\",\n  });\n\n  const credHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setCred((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const loginHandler = () => {\n    if (cred.userName && cred.password) {\n      mutate(cred);\n    }\n  };\n\n  return (\n    <div className=\"border-2 flex flex-col w-60 gap-2 p-2\">\n      <input\n        onChange={credHandler}\n        name=\"userName\"\n        className=\"border-2 p-2\"\n        type=\"text\"\n        placeholder=\"user name\"\n      />\n      <input\n        onChange={credHandler}\n        name=\"password\"\n        className=\"border-2 p-2\"\n        type=\"text\"\n        placeholder=\"password\"\n      />\n      <button onClick={loginHandler} className=\"border-2\">\n        Log In\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AAEA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,cAAc,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAC5B,CAAC,QAAqB,MAAM,SAAS,CAAC,WAAW;IAEnD,QAAQ,GAAG,CAAC;IAEZ,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,6HAAA,CAAA,WAAQ,AAAD;IAC1B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAC/B,UAAU;QACV,UAAU;IACZ;IAEA,MAAM,cAAc,CAAC;QACnB,MAAM,OAAO,EAAE,MAAM,CAAC,IAAI;QAC1B,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;QAC5B,QAAQ,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IAC/C;IAEA,MAAM,eAAe;QACnB,IAAI,KAAK,QAAQ,IAAI,KAAK,QAAQ,EAAE;YAClC,OAAO;QACT;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,UAAU;gBACV,MAAK;gBACL,WAAU;gBACV,MAAK;gBACL,aAAY;;;;;;0BAEd,8OAAC;gBACC,UAAU;gBACV,MAAK;gBACL,WAAU;gBACV,MAAK;gBACL,aAAY;;;;;;0BAEd,8OAAC;gBAAO,SAAS;gBAAc,WAAU;0BAAW;;;;;;;;;;;;AAK1D"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}